<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;
var data = [ [13.189, 18744],
    [13.180, 18737],
    [13.176, 18739],
    [13.170, 18738],
    [13.170, 18737],
    [13.164, 18738],
    [13.150, 18733],
    [13.156, 18736],
    [13.147, 18730],
    [13.145, 18728],
    [13.140, 18733],
    [13.143, 18733],
    [13.131, 18730],
    [13.131, 18728],
    [13.128, 18732],
    [13.120, 18728],
    [13.120, 18732],
    [13.119, 18732],
    [13.111, 18729],
    [13.108, 18725],
    [13.105, 18724],/*3*/
    [13.296, 18761],
    [13.271, 18759],
    [13.246, 18755],
    [13.247, 18753],
    [13.246, 18752],
    [13.246, 18756],
    [13.246, 18747],
    [13.245, 18751],
    [13.231, 18751],
    [13.221, 18747],
    [13.221, 18749],
    [13.223, 18751],
    [13.219, 18750],
    [13.214, 18743],
    [13.208, 18745],
    [13.207, 18744],
    [13.199, 18742],
    [13.201, 18744],/*2*/

    [6.2044, 17408],
    [6.2044, 17410],
    [6.2044, 17408],
    [6.2055, 17408],
    [6.2054, 17403],
    [6.2047, 17408],
    [6.2048, 17410],
    [6.2034, 17409],
    [6.2044, 17407],
    [6.2044, 17407],
    [6.2024, 17405],
    [6.2044, 17409],
    [6.2056, 17405],
    [6.2042, 17407],
    [6.2044, 17406],
    [6.2044, 17409],
    [6.2044, 17409],
    [6.2004, 17411],/*4*/

    [2.1690, 16635],
    [2.1703, 16638],
    [2.1772, 16639],
    [2.1762, 16639],
    [2.1743, 16638],
    [2.1732, 16637],
    [2.1752, 16640],
    [2.1740, 16637],
    [2.1753, 16637],
    [2.1734, 16640],
    [2.1689, 16637],
    [2.1698, 16639],
    [2.1713, 16639],
    [2.1759, 16632],
    [2.1724, 16639],
    [2.1686, 16637],
    [2.1687, 16639],
    [2.1688, 16639],
    [2.1702, 16636],
    [2.1686, 16638],
    [2.1678, 16636],
    [2.1684, 16642],
    [2.1686, 16637],/*5*/

    [9.6157, 18056],
    [9.6082, 18058],
    [9.6043, 18056],
    [9.6064, 18055],
    [9.6033, 18053],
    [9.5963, 18056],
    [9.5981, 18052],
    [9.5883, 18055],
    [9.5876, 18054],
    [9.5865, 18058],
    [9.5791, 18051],
    [9.5834, 18053],
    [9.5690, 18046],
    [9.5676, 18047],
    [9.5699, 18049],
    [9.5621, 18048],
    [9.5614, 18049],
    [9.5621, 18046],
    [9.5540, 18044],
    [9.5539, 18046],
    [9.5435, 18044],
    [9.5427, 18044], /*6*/
   [9.5381,18042], [9.5360, 18043],
    [9.5303, 18038],
    [9.5254, 18036],
    [9.5197, 18043],
    [9.5170, 18040],
    [9.5139, 18038],
    [9.5115, 18038],
    [9.5077, 18039],
    [9.5092, 18039],
    [9.5025, 18036],
    [9.4971, 18036],
    [9.5026, 18035],
    [9.4871, 18034],
    [9.4867, 18034],
    [9.4836, 18034],
    [9.4810, 18036],
    [9.4903, 18032],
    [9.4777, 18034],
    [9.4782, 18030],
    [9.4700, 18029],/*7*/

    [9.4701, 18031],
    [9.4662, 18031],
    [9.4636, 18030],
    [9.4539, 18027],
    [9.4523, 18027],
    [9.4466, 18026],
    [9.4445, 18024],
    [9.4381, 18023],
    [9.4426, 18024],
    [9.4394, 18022],
    [9.4305, 18025],
    [9.4267, 18024],
    [9.4320, 18026],
    [9.4202, 18021],
    [9.4197, 18020],
    [9.4197, 18020],
    [9.4148, 18020],
    [9.4010, 18015],
    [9.4094, 18017],
    [9.3996, 18018],
    [9.3961, 18018],
    [9.3971, 18016],
    [9.3909, 18019] /*8*/


                ];/*数据写入*/

for(i=0; i<data.length;i++){
    data[i][1]=data[i][1]/1000.0;
}


// See https://github.com/ecomfe/echarts-stat
var myRegression = ecStat.regression('linear', data);

myRegression.points.sort(function(a, b) {
    return a[0] - b[0];
});

option = {
    title: {
        text: '拟合直线',
        subtext: 'By ecStat.regression',
        sublink: 'https://github.com/ecomfe/echarts-stat',
        left: 'center'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross'
        }
    },
    xAxis: {
        type: 'value',


        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        }
    },
    yAxis: {
        type: 'value',
        min:17.9,
        max:18.9,
        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        }
    },
    dataZoom: [
        {
            type: 'slider',    //支持鼠标滚轮缩放
            start: 0,            //默认数据初始缩放范围为10%到90%
            end: 100
        },
        {
            type: 'inside',    //支持单独的滑动条缩放
            start: 0,            //默认数据初始缩放范围为10%到90%
            end: 100
        }
    ],
    series: [{
        name: 'scatter',
        type: 'scatter',
        symbolSize:4,
        label: {
            emphasis: {
                show: true,
                position: 'left',
                textStyle: {
                    color: 'blue',
                    fontSize: 16
                }
            }
        },
        data: data
    }, {
        name: 'line',
        type: 'line',
        showSymbol: false,
        data: myRegression.points,
        markPoint: {
            itemStyle: {
                normal: {
                    color: 'transparent'
                }
            },
            label: {
                normal: {
                    show: true,
                    position: 'left',
                    formatter: myRegression.expression,
                    textStyle: {
                        color: '#333',
                        fontSize: 14
                    }
                }
            },
            data: [{
                coord: myRegression.points[myRegression.points.length - 1]
            }]
        }
    }]
};;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>